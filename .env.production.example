# Maskwise Production Environment Configuration
# Copy this file to .env and update with your production values

# Database Configuration
POSTGRES_DB=maskwise
POSTGRES_USER=maskwise
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_PORT=5432

# Redis Configuration
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here_CHANGE_THIS

# Application Ports
API_PORT=3001
WEB_PORT=3000
NGINX_PORT=80
NGINX_SSL_PORT=443

# External Service Ports
PRESIDIO_ANALYZER_PORT=5003
PRESIDIO_ANONYMIZER_PORT=5004
TIKA_PORT=9998

# Application Configuration
NODE_ENV=production

# JWT Secrets (CRITICAL SECURITY - REQUIRED)
# Generate strong, random secrets with: openssl rand -base64 64
# MUST be different from each other and NEVER reuse development secrets
# Application will fail to start if these are not set
# Minimum 32 characters, recommend 64+ characters
JWT_SECRET=your_very_secure_jwt_secret_here_minimum_32_chars_CHANGE_THIS
JWT_REFRESH_SECRET=your_very_secure_refresh_secret_here_minimum_32_chars_CHANGE_THIS

# Frontend Configuration
NEXT_PUBLIC_API_URL=http://localhost:3001
# For production with domain: NEXT_PUBLIC_API_URL=https://api.yourdomain.com

# Email Configuration (if implemented)
# SMTP_HOST=smtp.yourdomain.com
# SMTP_PORT=587
# SMTP_USER=noreply@yourdomain.com
# SMTP_PASS=your_smtp_password
# FROM_EMAIL=noreply@yourdomain.com

# Optional: Custom Admin User (defaults to admin@maskwise.com/admin123)
# DEFAULT_ADMIN_EMAIL=admin@yourdomain.com
# DEFAULT_ADMIN_PASSWORD=your_secure_admin_password

# Security
# FRONTEND_URL=https://yourdomain.com  # For CORS configuration

# Logging
# LOG_LEVEL=info  # debug, info, warn, error

# File Upload Limits
# MAX_FILE_SIZE=104857600  # 100MB in bytes

# Worker Configuration
# WORKER_CONCURRENCY=2  # Number of concurrent workers

# Database and Redis Connection URLs (PRODUCTION - REQUIRED)
# These override the individual host/port settings above
#
# Database URL with SSL/TLS (REQUIRED for production security)
# Format: postgresql://user:password@host:5432/database?sslmode=require
# The ?sslmode=require parameter ensures encrypted database connections
DATABASE_URL=postgresql://maskwise:your_secure_postgres_password_here@postgres:5432/maskwise?sslmode=require

# Redis URL with authentication (REQUIRED for production security)
# Format: redis://:password@host:6379
# The password MUST match REDIS_PASSWORD above
REDIS_URL=redis://:your_secure_redis_password_here@redis:6379

# External Service URLs (using Docker Compose service names)
PRESIDIO_ANALYZER_URL=http://presidio-analyzer:3000
PRESIDIO_ANONYMIZER_URL=http://presidio-anonymizer:3000
TIKA_URL=http://tika:9998
TESSERACT_URL=http://tesseract:8000